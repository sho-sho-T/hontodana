# hontodana - 書籍管理Webアプリケーション 要件定義書

## 1. プロジェクト概要

### 1.1 プロジェクト名
**hontodana（本棚）** - 個人書籍管理Webアプリケーション

### 1.2 目的
自宅の物理書籍とKindle電子書籍を一元管理し、読書進捗の記録・可視化、書籍検索・登録、ウィッシュリスト機能を提供する。

## 2. 機能要件

### 2.1 書籍管理機能

#### 2.1.1 書籍登録機能
- **検索による登録**
  - タイトル検索（部分一致対応）
  - ISBN検索（10桁・13桁対応）
  - 著者名検索
  - Google Books API等を活用した書籍情報自動取得
  
- **手動登録機能**
  - タイトル、著者、出版社、ISBN、ページ数の手動入力
  - 表紙画像のアップロード機能
  
- **書籍メタデータ**
  - タイトル
  - 著者（複数対応）
  - 出版社
  - 出版日
  - ISBN（10桁・13桁）
  - ページ数
  - ジャンル/カテゴリ
  - 書籍形態（物理本/電子書籍）
  - 表紙画像URL
  - 登録日時
  - 最終更新日時

#### 2.1.2 書籍検索・フィルタリング機能
- **検索機能**
  - 全文検索（タイトル・著者・出版社）
  - ISBN検索
  - 高度な検索（複数条件組み合わせ）
  
- **フィルタリング機能**
  - 書籍形態（物理本/電子書籍/全て）
  - 読書ステータス（未読/読書中/完読）
  - ジャンル/カテゴリ
  - 著者
  - 出版年
  
- **ソート機能**
  - 登録日時（新しい順/古い順）
  - タイトル（五十音順/アルファベット順）
  - 著者名
  - 出版日
  - 読書進捗率

### 2.2 読書進捗管理機能

#### 2.2.1 進捗記録機能
- **読書記録**
  - 現在のページ数入力
  - 読書開始日・完読日の記録
  - 読書回数のカウント
  - 読書感想・メモの記録（日記形式）
  - 星評価（1-5段階）
  
- **進捗計算**
  - 読書進捗率の自動計算（現在ページ ÷ 総ページ数 × 100）
  - 読書ペースの算出（1日平均ページ数）
  - 完読予想日の計算

#### 2.2.2 進捗可視化機能
- **個別書籍進捗**
  - プログレスバー表示
  - 円グラフでの進捗率表示
  - 読書履歴のタイムライン表示
  
- **全体統計**
  - 月別読書完了冊数のグラフ
  - 年間読書目標との比較
  - ジャンル別読書傾向の円グラフ
  - 物理本 vs 電子書籍の比率
  - 読書ペースの推移グラフ

### 2.3 ウィッシュリスト機能

#### 2.3.1 気になる本管理
- **追加機能**
  - 検索からのワンクリック追加
  - 手動での書籍情報入力
  - 優先度設定（高/中/低）
  - 購入予定日の設定
  
- **管理機能**
  - ウィッシュリストの表示・編集
  - 優先度でのソート
  - 価格情報の表示（外部API連携）
  - 所有書籍への移行機能

### 2.4 表示・UI機能

#### 2.4.1 書籍表示機能
- **表紙画像表示**
  - 高解像度表紙画像の表示
  - 画像が無い場合のデフォルト表示
  - 画像のレスポンシブ対応
  
- **レイアウト**
  - グリッド表示（本棚風レイアウト）
  - リスト表示（詳細情報付き）
  - カード表示（中間サイズ）

#### 2.4.2 リッチUI・アニメーション機能
- **アニメーション**
  - ページ遷移時のスムーズなトランジション
  - 書籍カードのホバーエフェクト
  - 進捗バーのアニメーション更新
  - データ更新時のフェードイン/アウト
  
- **インタラクティブ要素**
  - ドラッグ&ドロップでの書籍移動
  - スワイプジェスチャー（モバイル対応）
  - 無限スクロール
  - リアルタイム検索（入力中の候補表示）

## 3. 非機能要件

### 3.1 パフォーマンス要件
- ページ読み込み時間：3秒以内
- 検索結果表示：1秒以内
- 画像読み込み：遅延読み込み対応
- レスポンシブデザイン対応

### 3.2 セキュリティ要件
- ユーザー認証機能（NextAuth.js）
- データの暗号化保存
- SQLインジェクション対策
- XSS対策

### 3.3 可用性要件
- 99%以上の稼働率
- データバックアップ機能
- エラーハンドリング

## 4. 技術仕様

### 4.1 フロントエンド
- **Framework**: Next.js 15 (App Router)
- **言語**: TypeScript
- **スタイリング**: Tailwind CSS v4
- **コンポーネント**: shadcn/ui
- **アニメーション**: Framer Motion + CSS 3D Transforms
- **状態管理**: Zustand
- **3D効果**: CSS Transform + Perspective

### 4.2 バックエンド
- **API**: Next.js API Routes
- **データベース**: PostgreSQL
- **ORM**: Prisma
- **認証**: NextAuth.js

### 4.3 外部API連携
- **書籍情報**: Google Books API
- **表紙画像**: Google Books API

### 4.4 データベース設計

#### 4.4.1 主要テーブル
```sql
-- ユーザーテーブル
users (id, email, name, created_at, updated_at)

-- 書籍テーブル
books (id, title, author, publisher, isbn, pages, genre, format, cover_image, created_at, updated_at)

-- ユーザー書籍関連テーブル
user_books (id, user_id, book_id, status, current_page, start_date, finish_date, read_count, rating, notes)

-- 読書記録テーブル
reading_logs (id, user_book_id, page, recorded_at, memo)

-- ウィッシュリストテーブル
wishlists (id, user_id, book_id, priority, target_date, created_at)
```

## 5. 画面設計

### 5.1 主要画面
1. **ダッシュボード** - 読書統計・最近の活動
2. **本棚** - 所有書籍一覧（グリッド/リスト表示切替）
3. **書籍詳細** - 個別書籍情報・進捗管理
4. **書籍検索・登録** - 新規書籍追加
5. **ウィッシュリスト** - 気になる本一覧
6. **統計・分析** - 読書データの可視化
7. **設定** - ユーザー設定・目標設定

### 5.2 レスポンシブ対応
- デスクトップ：1200px以上
- タブレット：768px-1199px
- モバイル：768px未満

## 6. 開発フェーズ

### Phase 1: 基本機能（優先実装）
- ユーザー認証（NextAuth.js）
- データベース設計・実装（Prisma）
- 書籍検索・登録機能（Google Books API連携）
- 基本的な本棚表示（グリッド・リスト表示）
- 書籍詳細画面
- 3D カードエフェクトの実装

**Phase 1 詳細実装項目：**
1. **データベース設計**
   - Prisma schema作成
   - 初期マイグレーション
   
2. **認証システム**
   - NextAuth.js設定
   - ログイン・ログアウト機能
   
3. **書籍検索・登録API**
   - Google Books API統合
   - 書籍情報取得・保存
   - 表紙画像処理
   
4. **基本UI実装**
   - 本棚グリッド表示
   - 書籍カード3D効果
   - 検索フォーム
   - レスポンシブデザイン

### Phase 2: 進捗管理
- 読書進捗記録機能
- 星評価・感想記録
- 基本的な統計表示
- 進捗バーの滑らかなアニメーション

### Phase 3: 高度な機能  
- ウィッシュリスト機能
- 詳細な統計・グラフ表示
- 本棚ページめくりアニメーション

### Phase 4: UI/UX向上
- 高度なアニメーション実装
- パフォーマンス最適化
- モバイル対応強化

## 7. 成功指標
- ユーザーの書籍登録数
- 読書記録の継続率
- ページ滞在時間
- 機能利用率